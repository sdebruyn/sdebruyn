name: generate badge
on:
  workflow_dispatch:
  push:
  schedule:
    - cron: '0 0 * * 0'

jobs:
  update:
    name: Update stats card
    runs-on: ubuntu-latest
    permissions:
      contents: write
    env: 
      GH_PAT: ${{ secrets.GH_PAT }}
    steps:
      - uses: actions/checkout@v4
      - uses: datarootsio/github-stats-card@v1
        with:
          username: sdebruyn
          gh_token_stats: ${{ secrets.GH_PAT }}
          gh_token_commits: ${{ secrets.GITHUB_TOKEN }}
          badge_path: assets/badge.svg
          header: "ğŸ‘‹ hi, I'm"
          about: "â˜ï¸ Freelance data platform architect\nMicrosoft Fabric & Azure expert"
          theme: retro-print
          commit_message: Badge generated by the treadmill bunnies.
